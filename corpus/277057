Understanding belief propagation and its generalization

